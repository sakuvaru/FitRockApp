<ng-container *ngIf="config">

  <ng-container *ngIf="config.wrapInCard">
    <div *ngIf="hasFilters" class="push" flex="95">
      <!-- Flex is used so that chips don't jump to second row because of overflow (happens if there are many chips & items in data table cause vertical scroller to appear) -->
      <data-table-layout-filters [filters]="filters" [activeFilterGuid]="activeFilterGuid" (activateFilter)="applyFilter($event)"></data-table-layout-filters>
    </div>
    <mat-card *ngIf="config.wrapInCard" class="push">
      <ng-template tdLoading [tdLoadingUntil]="!localLoaderLoading" tdLoadingStrategy="overlay">
        <mat-card-title layout>
          <data-table-layout-search #searchInput *ngIf="config.showSearch" [config]="config" [searchTerm]="searchTerm" (search)="handleSearch($event)"></data-table-layout-search>
        </mat-card-title>
        <data-table-layout-items [config]="config" [items]="items" [localLoaderLoading]="localLoaderLoading"></data-table-layout-items>
        <mat-card-actions>
          <data-table-layout-pager [pagerConfig]="config.pagerConfig" [totalPages]="totalPages" [currentPage]="currentPage" (goToPage)="filterItems($event)"></data-table-layout-pager>
        </mat-card-actions>
      </ng-template>
    </mat-card>
  </ng-container>

  <ng-container *ngIf="!config.wrapInCard">
    <ng-template tdLoading [tdLoadingUntil]="!localLoaderLoading" tdLoadingStrategy="overlay">
      <div *ngIf="hasFilters" class="push-bottom" flex="95">
        <!-- Flex is used so that chips don't jump to second row because of overflow (happens if there are many chips & items in data table cause vertical scroller to appear) -->
        <data-table-layout-filters [filters]="filters" [activeFilterGuid]="activeFilterGuid" (activateFilter)="applyFilter($event)"></data-table-layout-filters>
      </div>
      <div layout>
        <data-table-layout-search #searchInput *ngIf="config.showSearch" [config]="config" [searchTerm]="searchTerm" (search)="handleSearch($event)"></data-table-layout-search>
      </div>
      <data-table-layout-items [config]="config" [items]="items" [localLoaderLoading]="localLoaderLoading"></data-table-layout-items>
      <mat-card-actions>
        <data-table-layout-pager [pagerConfig]="config.pagerConfig" [totalPages]="totalPages" [currentPage]="currentPage" (goToPage)="filterItems($event)"></data-table-layout-pager>
      </mat-card-actions>
    </ng-template>
  </ng-container>

</ng-container>