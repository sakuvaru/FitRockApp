<td-layout>
  <td-navigation-drawer flex [sidenavTitle]="componentConfig.appName" logo="assets:teradata" [name]="displayUsername" [email]="email">
    <md-nav-list>
      <a *ngFor="let item of adminMenu.mainMenu" md-list-item [routerLink]="getMenuItemUrl(item.action, item.type)">
        <md-icon>{{item.icon}}</md-icon>{{item.label.key | translate}}</a>
    </md-nav-list>
    <div td-navigation-drawer-menu>
      <md-nav-list>
        <a *ngFor="let item of adminMenu.userMenu" md-list-item [routerLink]="getMenuItemUrl(item.action, item.type)">
          <md-icon>{{item.icon}}</md-icon>{{item.label.key | translate}}</a>
      </md-nav-list>
    </div>
  </td-navigation-drawer>
  <div td-sidenav-content class="td-layout-footer pad">
    &copy; {{year}} {{componentConfig.appName}}
  </div>

  <loader [enabled]="topLoaderEnabled"></loader>

  <td-layout-nav color="primary">
      <div td-toolbar-content flex>
        <admin-toolbar></admin-toolbar>           
      </div> 
    <td-layout-manage-list #manageList [opened]="media.registerQuery('gt-sm') | async" [mode]="(media.registerQuery('gt-sm') | async) ? 'side' :  'over'"
      [sidenavWidth]="(media.registerQuery('gt-xs') | async) ? '257px' : '100%'">
      <md-toolbar td-sidenav-content>
        <span *ngIf="!enableComponentSearch">{{shortenTitle(menuTitle)}}</span>
        <!-- using display none because otherwise the search control could not be initialized -->
        <div [style.display]="enableComponentSearch ? 'block' : 'none'" class="md-body-2">
            <md-input-container flex>
                <input mdInput [formControl]="searchControl" [value]="componentSearchValue" />
                <span mdPrefix><md-icon>search</md-icon></span>
            </md-input-container>
        </div>
      </md-toolbar>
      <md-nav-list td-sidenav-content [tdLayoutManageListClose]="!media.query('gt-sm')">
        <ng-template let-item let-last="last" ngFor [ngForOf]="componentConfig.menuItems">
          <a md-list-item [routerLink]="getMenuItemUrl(item.action, item.type)">
            <img *ngIf="item.imageUrl" md-list-avatar alt="" [src]="item.imageUrl">
            <md-icon *ngIf="item.icon" [color]="getMenuItemColor(item.action, item.type)">{{item.icon}}</md-icon>
            <div class="mat-list-text">
              {{ item.label.key | translate}}
            </div>
          </a>
        </ng-template>
      </md-nav-list>

      <md-toolbar>
        <div layout="row" layout-align="start center" flex>
          <button md-icon-button tdLayoutManageListOpen [hideWhenOpened]="true" tdMediaToggle="gt-sm" [mediaStyles]="{display: 'none'}">
            <md-icon>arrow_back</md-icon>
          </button>
          <span>{{componentTitle}}</span>
          <span flex></span>
          <button md-icon-button [routerLink]="getAuthUrl('logout')"><md-icon>exit_to_app</md-icon></button>
        </div>
      </md-toolbar>
      <loader [enabled]="componentLoaderEnabled"></loader>

      <div [ngClass]="{'w-hidden': componentLoaderEnabled && hideAdminLayoutWhenComponentsLoaderIsEnabled}">
        <router-outlet></router-outlet>
      </div>

    </td-layout-manage-list>
    <td-layout-footer>
      <div layout="row" layout-align="start center" class="md-caption">
        <footer [appName]="componentConfig.appName"></footer>
      </div>
    </td-layout-footer>
  </td-layout-nav>
</td-layout>