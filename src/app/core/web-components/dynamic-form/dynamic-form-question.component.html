<div layout="row" layout-margin [formGroup]="form" [ngSwitch]="question.controlType">

  <!-- Question types -->

  <md-input-container *ngSwitchCase="'textbox'" flex hintLabel="{{question.hint}}">
    <input mdInput value="{{question.value}}" [attr.maxLength]="question.maxLength > 0 ? question.maxLength : null" required="{{question.required}}"
      placeholder="{{question.label}}" [formControlName]="question.key" [id]="question.key" [type]="question.type" #elem>
    <md-hint *ngIf="showLengthHint()" [ngClass]="{'tc-red-600': elem.value.length > question.maxLength}" align="end">{{elem.value.length}} / {{question.maxLength}}</md-hint>
    <md-error>Chybně vyplněné pole</md-error>
  </md-input-container>

  <div *ngSwitchCase="'checkbox'" flex>
    <md-checkbox [checked]="question.value" [formControlName]="question.key" [id]="question.key" required="{{question.required}}" #elem> {{question.label}} 
    </md-checkbox>
    <span *ngIf="question.required && !elem.checked" class="tc-grey-500 md-caption"> (povinné)</span>
  </div>

  <div *ngSwitchCase="'radioboolean'" flex>
    <md-radio-group [formControlName]="question.key" [id]="question.key" required="{{question.required}}" (change)="handleRadioButtonChange($event)" #elem>
      <md-radio-button value="true" class="push-right">{{question.trueOptionLabel}}</md-radio-button>
      <md-radio-button value="false">{{question.falseOptionLabel}}</md-radio-button>
    </md-radio-group>
    <span *ngIf="question.required && showRequiredLabels" class="tc-grey-500 md-caption"> (povinné)</span>
  </div>

  <md-input-container *ngSwitchCase="'textarea'" flex hintLabel="{{question.hint}}">
    <textarea mdTextareaAutosize mdInput mdAutosizeMinRows="{{question.minAutosizeRows}}" mdAutosizeMaxRows="{{question.maxAutosizeRows}}"
      [attr.maxLength]="question.maxLength > 0 ? question.maxLength : null" value="{{question.value}}" required="{{question.required}}"
      placeholder="{{question.label}}" [formControlName]="question.key" [id]="question.key" [type]="question.type" #elem>
    </textarea>
    <md-hint *ngIf="showLengthHint()" [ngClass]="{'tc-red-600': elem.value.length > question.maxLength}" align="end">{{elem.value.length}} / {{question.maxLength}}</md-hint>
    <md-error>Chybně vyplněné pole</md-error>
  </md-input-container>

  <div *ngSwitchCase="'hidden'">
    <input type="hidden" value="{{question.value}}">
  </div>

  <div *ngSwitchCase="'dropdown'">
    <label [attr.for]="question.key">{{question.label}}</label>
    <select [id]="question.key" [formControlName]="question.key">
      <option *ngFor="let opt of question.options" [value]="opt.key">{{opt.value}}</option>
    </select>
  </div>
</div>