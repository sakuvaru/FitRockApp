<div fxFlexFill fxLayout="row" fxLayout.sm="column" fxLayout.xs="column" fxLayout.md="column">
  <div fxLayout="column" fxFlex="80%" class="push-sm">

    <div>
      <table-box [config]="dietOverviewBox"></table-box>
    </div>

    <div class="push-top" *ngIf="sortedDietFoods">
      <td-expansion-panel *ngFor="let dietFood of sortedDietFoods; let i = index">
        <ng-template td-expansion-panel-label>
          <span class="tc-red-700">{{i + 1}}.</span> {{dietFood.food.foodName}}
          <span class="mat-caption tc-grey-700">({{ 'module.foodCategories.categories.' + dietFood.food.foodCategory.codename | localize}})</span>
        </ng-template>
        <ng-template td-expansion-panel-sublabel>
          <span class="mat-caption">
            <plural-food-units [count]="dietFood.unitValue" [unitCode]="dietFood.food.foodUnit.unitCode"></plural-food-units>
          </span>
        </ng-template>
        <div class="mat-padding mat-caption">
          {{dietFood.notes}}
        </div>
      </td-expansion-panel>
    </div>

  </div>

  <div fxFlex="20%" fxLayout="column" class="push-sm">
    <div>
      <number-box [config]="protMiniBox"></number-box>
    </div>

    <div class="push-top-sm">
      <number-box [config]="fatMiniBox"></number-box>
    </div>

    <div class="push-top-sm">
      <number-box [config]="choMiniBox"></number-box>
    </div>

    <div class="push-top-sm">
      <number-box [config]="sugarMiniBox"></number-box>
    </div>

    <div class="push-top-sm">
      <number-box [config]="naclMiniBox"></number-box>
    </div>

  </div>
</div>

<div *ngIf="diet && diet.dietFoods && diet.dietFoods.length > 0" fxLayout="row" class="push-top push-left-sm push-right-sm">
  <div fxFlex="100%" fxLayout="column">
    <graph #graph [config]="dietGraph"></graph>
  </div>
</div>


<!--
<mat-card *ngIf="diet" class="push-bottom">
  <mat-card-title>{{diet.dietName}}</mat-card-title>
  <mat-card-subtitle>{{ 'module.dietCategories.categories.' + diet.dietCategory.codename | localize}}</mat-card-subtitle>
  <mat-divider></mat-divider>
  <mat-card-content *ngIf="diet.description">
    {{diet.description}}
  </mat-card-content>
</mat-card>

<div class="push-top" *ngIf="sortedDietFoods">
  <td-expansion-panel *ngFor="let dietFood of sortedDietFoods; let i = index">
    <ng-template td-expansion-panel-label>
      <span class="tc-red-700">{{i + 1}}.</span> {{dietFood.food.foodName}}
      <span class="mat-caption tc-grey-700">({{ 'module.foodCategories.categories.' + dietFood.food.foodCategory.codename | localize}})</span>
    </ng-template>
    <ng-template td-expansion-panel-sublabel>
      <span class="mat-caption"> <plural-food-units [count]="dietFood.unitValue" [unitCode]="dietFood.food.foodUnit.unitCode"></plural-food-units> </span>
    </ng-template>
    <div class="mat-padding mat-caption">
      {{dietFood.notes}}
    </div>
  </td-expansion-panel>
</div>
-->