<div>
    <div fxFlexFill fxLayout fxLayout.sm="column" fxLayout.xs="column" fxLayout.md="column">
        <div fxFlex="33%" class="push-sm">
            <mat-card fxFlex>
                <mat-card-content>
                    <p class="md-title primary">
                        {{ 'module.clients.dashboard.nextAppointment' | localize }}
                    </p>

                    <ng-container *ngIf="appointment">
                        <p class="md-subhead">{{ appointment.appointmentName }}</p>
                        <p>
                            <span class="md-caption">{{ 'module.clients.appointments.when' | localize }}:</span> {{ formatDate(appointment.appointmentDate)
                            }}
                        </p>
                        <p>
                            <span class="md-caption">{{ 'module.clients.appointments.where' | localize }}:</span> {{ appointment.location.address
                            }}
                        </p>
                        <p *ngIf="appointment.workout">
                            <span class="md-caption">{{ 'module.clients.appointments.workout' | localize }}:</span> {{ appointment.workout.workoutName
                            }}
                        </p>
                        <p *ngIf="appointment.notes">
                            <span class="md-caption">{{ 'module.clients.appointments.notes' | localize }}:</span>
                        </p>
                        <p *ngIf="appointment.notes" class="md-caption">
                            {{ appointment.notes }}
                        </p>
                    </ng-container>

                    <info-message *ngIf="!appointment" text="{{ 'module.clients.dashboard.noAppointment' | localize }}"></info-message>
                </mat-card-content>
                <mat-card-content *ngIf="appointment">

                    <p class="md-title primary">
                        {{ 'module.clients.dashboard.nextAppointmentMap' | localize }}
                    </p>

                    <map [apiKey]="googleApiKey" [address]="appointment.location.address" [lat]="appointment.location.lat" [lng]="appointment.location.lng"></map>

                </mat-card-content>
            </mat-card>
        </div>
        <div fxFlex="67%" class="push-sm">

            <mat-card *ngIf="client && client.trainerPrivateNotes">
                <mat-card-content>

                    <p class="md-title primary">
                        {{ 'module.clients.dashboard.privateNotes' | localize }}
                        <span class="md-caption">({{ 'module.clients.dashboard.privateNotesHint' | localize }} )</span>
                    </p>

                    <p>
                        {{ client.trainerPrivateNotes }}
                    </p>

                </mat-card-content>
            </mat-card>

            <mat-card *ngIf="client && client.trainerPublicNotes">
                <mat-card-content>

                    <p class="md-title primary">
                        {{ 'module.clients.dashboard.publicNotes' | localize }}
                    </p>

                    <p>
                        {{ client.trainerPublicNotes }}
                    </p>

                </mat-card-content>
            </mat-card>

            <list-box [config]="chatMessagesListBox"></list-box>
        </div>
    </div>

    <div fxFlexFill fxLayout fxLayout.md="column" fxLayout.sm="column" fxLayout.xs="column">
        <div fxFlex="50%" class="push-sm">
            <list-box [config]="dietsListBox"></list-box>
        </div>
        <div fxFlex="50%" class="push-sm">
            <list-box [config]="workoutsListBox"></list-box>
        </div>
    </div>

    <div fxLayout fxLayout.sm="column" fxLayout.xs="column">
        <div fxFlex="100%" class="push-sm">
            <user-stats [userId]="clientId"></user-stats>
        </div>
    </div>
</div>